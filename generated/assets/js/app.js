!function(){"use strict";async function e(e,t,i){const n=await async function(e,t,i){if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("Browser API navigator.mediaDevices.getUserMedia not available");const n=document.getElementById(e);n.width=t,n.height=i;const o=await navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:"user"}});return n.srcObject=o,new Promise(e=>{n.onloadedmetadata=()=>{e(n)}})}(e,t,i);return n.play(),n}function t(e,t,i,n,o,a){e.beginPath(),e.arc(i,t,n,0,2*Math.PI),e.fillStyle=o,e.fillText(a,i+5,t),e.fill()}const i=800,n=650;posenet.load({architecture:"MobileNetV1",outputStride:16,inputResolution:513,multiplier:.75}).then(async function(o){let a;try{a=await e("video",i,n)}catch(e){throw e}!function(e,o){document.getElementById("camera").classList.remove("no-display");const a=document.getElementById("output"),c=a.getContext("2d");a.width=i,a.height=n,async function a(){const s=await o.estimatePoses(e,{flipHorizontal:!0,decodingMethod:"single-person"});c.clearRect(0,0,i,n);s.forEach(({score:e,keypoints:i})=>{e>=.3&&function(e,i,n,o=1){for(let a=0;a<e.length;a++){const c=e[a];if(c.score<i)continue;const{y:s,x:r}=c.position;t(n,s*o,r*o,3,"#ff2626",c.part+" "+c.score.toFixed(4))}}(i,.6,c)});setTimeout(function(){requestAnimationFrame(a)},2e3)}()}(a,o)})}();