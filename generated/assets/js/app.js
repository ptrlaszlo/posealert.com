!function(){"use strict";async function e(e,t,i){const n=await async function(e,t,i){if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("Browser API navigator.mediaDevices.getUserMedia not available");const n=document.getElementById(e);n.width=t,n.height=i;const o=await navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:"user"}});return n.srcObject=o,new Promise(e=>{n.onloadedmetadata=()=>{e(n)}})}(e,t,i);return n.play(),n}function t(e,t,n,o,a,c){e.clearRect(0,0,t,n),o.forEach(({score:t,keypoints:n})=>{t>=a&&function(e,t,n,o=1){for(let a=0;a<e.length;a++){const c=e[a];if(c.score<t)continue;const{y:s,x:r}=c.position,d="#ff2626";i(n,s*o,r*o,3,d,c.part+" "+c.score.toFixed(4))}}(n,c,e)})}function i(e,t,i,n,o,a){e.beginPath(),e.arc(i,t,n,0,2*Math.PI),e.fillStyle=o,e.fillText(a,i+5,t),e.fill()}const n=800,o=650;window.debugMode=!0;posenet.load({architecture:"MobileNetV1",outputStride:16,inputResolution:513,multiplier:.75}).then(async function(i){let a;try{a=await e("video",n,o)}catch(e){throw e}!function(e,i){document.getElementById("camera").classList.remove("no-display");const a=document.getElementById("output"),c=a.getContext("2d");a.width=n,a.height=o,async function a(){const s=await i.estimatePoses(e,{flipHorizontal:!0,decodingMethod:"single-person"});window.debugMode&&t(c,n,o,s,.3,.6);setTimeout(function(){requestAnimationFrame(a)},2e3)}()}(a,i)})}();